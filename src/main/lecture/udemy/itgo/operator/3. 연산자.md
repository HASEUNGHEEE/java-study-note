# 3. 연산자

## 연산자(Operator)는 무엇일까?

- 연산자(Operator)
    - 어떠한 기능을 수행하는 기호(+, -, *, / 등)
- 피연산자(Operand)
    - 연산자의 작업 대상(변수, 상수, 리터럴, 수식)
- `a + b`
    - `+`는 이항연산자 → 피연산자가 2개이므로 이항이라고 한다.

## 연산자의 종류

- 단항 연산자(부호)
    - `+` `-` `++` `--` `~` `!`
    - 피연산자가 1개
- 이항 연산자
    - 산술 연산자 : `+` `-` `*` `/` `%` `<<` `>>`
    - 비교 연산자 : `>` `<` `>=` `<=` `==` `!=`
    - 논리 연산자 : `&&` `||`
    - 비트 연산자 : `&` `|` `^`
- 삼항 연산자 : (식) ? 참 : 거짓
- 대입 연산자 : `=`
    - 대입 연산자만 유일하게 오른쪽에서 왼쪽으로 실행됨

## 증감(증가, 감소) 연산자
| 전위형 | `j = ++i;`  | `++i;` → `j = i;`  | 값이 참조되기 전에 증가시킨다.  |
|:---------:|:--------------:|:------------------:| :---: |
| 후위형 | `j = i++;`  | `j = i;` → `i++;`  |  값이 참조된 후에 증가시킨다.  |
- 증가 연산자(`++`) : 피연산자의 값을 1 증가 시킨다.
- 감소 연산자(`--`) : 피연산자의 값을 1 감소 시킨다.
- 전위형 vs 후위형
    - 세미콜론(;)을 기준으로 하여 전위와 후위의 값이 달라진다.


## 논리 부정 연산자(!)

- true를 false로, false를 true로 값이 변환된다.
- 단, 피연산자가 boolean일 때만 사용 가능하다.

```java
boolean power = false;
power = !power; // false -> true
power = !power; // true -> false
```

## 비트전환 연산자(~)

- 정수(10진수)를 2진수로 나타낼 때, 1을 0으로 0은 1로 바꾼다. (**1의 보수 개념)**
- 음수를 2진수로 표현하는 방법

|              2진수(binary)              | 10진수(decimal)  |
|:-------------------------------------:|:--------------:|
|           `0` 0 0 0 1 0 1 0           |       10       |
|           `1` 1 1 1 0 1 0 1           |      -11       |
| `1` 1 1 1 0 1 0 1 + `0` 0 0 0 0 0 0 1 |    -11 + 1     |
|            `1` 1 1 1 0 1 1 0            |  -10 (2의 보수)   |
- 부호 비트(`0` : 양수, `1` : 음수)


## 이항 연산자의 특징

- 이항 연산자는 연산을 실행하기 전에 피연산자의 타입을 일치시키는 작업을 한다.
    - default 타입인 int 보다 바이트 수가 작은 타입은 int로 변환시킨다. (`byte`, `char`, `short` → `int`)
        - byte + short → int + int → int
        - char + int → int + int → int
    - **정수가 실수와 연산을 하게 되면, 표현 범위가 넓은 타입으로 형변환된다.**
        - **int + float → float + float → float**
            - 2 + 2.0f = 4.0f
        - double + float → double + double → double

## 나머지 연산자(%), 대입 연산자(=)

### 1) 나머지 연산자

- 나머지를 반환함.
- **홀수, 짝수 등 배수 검사에 주로 사용함**

```java
int result = 10 % 3;
// 몫은 3, 나머지는 1
```

### 2) 대입 연산자

- 모든 연산자 중, 유일하게 오른쪽에서 왼쪽으로 실행된다.
- **단, 왼쪽 피연산자는 상수가 아니어야 한다.**

```java
final int MAX = 3;
MAX = 10; // ERROR
```

## 비트 연산자(&, |, ^)

|  x  |  y  | x OR y | x AND y | x XOR y |
|:---:|:---:|:------:|:-------:|:-------:|
|  1  |  1  |   1    |    1    |    0    |
|  1  |  0  |   1    |    0    |    1    |
|  0  |  1  |   1    |    0    |    1    |
|  0  |  0  |   0    |    0    |    0    |

- 피연산자를 비트단위로 연산한다.
- 단, 실수형(float, double)은 제외된다.
    - OR(|) 연산자: 피연산자 중 어느 한쪽이 1이면 1이다.
    - AND(&) 연산자: 피연산자 중 둘 다 1이면 1이다.
    - XOR(^) 연산자(exclusive or): **피연산자가 서로 다를 때, 1이다.**
        - 배타적 논리합이라고도 한다.

## 쉬프트 연산자(<<, >>)

- `2^n`으로 곱하거나, 나눈 결과를 반환한다.
- 주로, 속도가 빨라서 그래픽 분야에서 많이 사용한다.
- x << n은 `x * 2^n`과 같다.
    - 8 << 2는 `8 * 2^2`과 같다.
    - 8 << 2의 결과(left-shift): `00001000` ⇒ `00100000`
- x >> n은  `x / 2^n`과 같다.
    - 8 >> 2는 `8 / 2^2`과 같다.
    - 8 >> 2의 결과(right-shift): `00001000` ⇒ `00000010`


## 비교 연산자(<, > , ≥, ≤, ==, ≠)

- 피연산자를 같은 타입으로 변환한 후, 비교를 실행한다.
    - ex) float + int = float + float → float
    - 결과 값은 true 또는 false가 된다.
        - ‘A’ < ‘B’ → 65 < 66 → true
        - 10.0d == 10.0f → 10.0d == 10.0d → true
- 기본형(boolean 제외)과 참조형에 사용되지만, **참조형에는 `==`과 `!=` 만 사용할 수 있다.**
    - 참조형은 기본적으로 `주소 비교`가 이루어진다.
- cf) 아무리 성능이 좋은 CPU라고 해도 오차가 필히 존재함

## 논리 연산자(&&, ||)

- 피연산자를 반드시 boolean 타입이어야 하며, 연산 결과 또한 boolean이다.
    - &&과 || 보다 우선순위가 높다. 같이 사용되는 경우 괄호를 사용하자
- OR 연산자(||): 피연산자 중 어느 한 쪽이 true이면 true이다.
- AND 연산자(&&): 피연산자 둘 다 true이면 true이다.

## 삼항 연산자(조건식 ? : ), 복합 대입 연산자

### 1) 삼항 연산자

- `(조건식)` ? `표현식1` : `표현식2`
- 조건식의 연산 결과가 true이면 `표현식1` 의 결과를 반환하며, false일 경우 `표현식2` 의 결과를 반환한다. (if - else문 대체용)

```java
int score = 70;
char grade = score >= 90 ? 'A' : (score >= 80 ? 'B' : 'C');
// Step 1. score >= 90 ? 'A' : 'C';
// Step 2. char grade = 'C';
```

### 2) 복합 대입 연산자

- 복합 대입 연산자는 코드를 효율적으로 줄일 수 있는 연산자이다.
- 종류: `+=`, `-=`, `*=`, `/=` 등
- `sum += i;` 좌측 문장과 동일한 코드는 `sum = sum + i;` (누적값을 구할 때)