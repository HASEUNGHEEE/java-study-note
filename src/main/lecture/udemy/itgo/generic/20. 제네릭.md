# 20. μ λ„¤λ¦­(Generic)

## μ λ„¤λ¦­μ κ°μ”

- μ λ„¤λ¦­ νƒ€μ…μ΄λ€ **νƒ€μ…μ„ νλΌλ―Έν„°ν™” ν•μ—¬, μ‹¤ν–‰ μ‹μ— κµ¬μ²΄μ μΌλ΅ ν•΄λ‹Ήν•λ” νƒ€μ…μΌλ΅ κ²°μ •λλ” κ²ƒμ„ μλ―Έ**ν•λ‹¤.
- JDK 1.5λ¶€ν„° μ¶”κ°€λ κΈ°λ¥μ΄λ©° μ¤λ λ“, μ»¬λ ‰μ…, λλ‹¤μ‹, μ¤νΈλ¦Ό λ“±μ—μ„ μ‚¬μ©λλ‹¤.
- **μ λ„¤λ¦­μ„ μ‚¬μ©ν•λ©΄ μ»΄νμΌ μ‹μ— κ°•ν• νƒ€μ… μ²΄ν¬ λΏλ§ μ•„λ‹λΌ, νƒ€μ… λ³€ν™(Casting)μ„ μ‚¬μ „μ— μ κ±°ν•  μ μλ‹¤.**

```java
// λΉ„μ λ„¤λ¦­ μ½”λ“
List list = new ArrayList();
list.add(100);
int value = (Integer) list.get(0);
/* νƒ€μ…λ³€ν™μ΄ μμ£Ό μΌμ–΄λ‚λ©΄, Application P/Gμ κΈ°λ¥μ΄ λ–¨μ–΄μ§„λ‹¤. */

// μ λ„¤λ¦­ μ½”λ“
List<Integer> list = new ArrayList<Integer>();
list.add(100);
int value = list.get(0);
```

## μ λ„¤λ¦­μ κ°λ… λ° μ„ μ–Έ

- **νƒ€μ…μ„ νλΌλ―Έν„°λ΅ κ°–λ” ν΄λμ¤ λ° μΈν„°νμ΄μ¤λ¥Ό μΉ­ν•λ‹¤.**
    - μ„ μ–Έμ„ ν•  λ• ν΄λμ¤ λλ” μΈν„°νμ΄μ¤λ… λ’¤μ— `<>` (κΊΎμ‡ )κ°€ λ¶™λ”λ‹¤.
    - κΊΎμ‡  μ‚¬μ΄μ—λ” νƒ€μ… νλΌλ―Έν„°κ°€ μ„μΉν•κ² λλ‹¤.
- **νƒ€μ… νλΌλ―Έν„°λ” μ λ„¤λ¦­ ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ¥Ό μ„¤κ³„ μ‹μ— λ³΄ν†µ μ•νλ²³ ν• λ¬Έμλ΅ ν‘μ‹**ν•λ‹¤. κ·Έ ν›„ κ°λ° μ½”λ“μ—μ„λ” μ§μ ‘ νƒ€μ… νλΌλ―Έν„°μ— κµ¬μ²΄μ  ν΄λμ¤λ¥Ό μ§€μ •ν•΄μ•Ό ν•λ‹¤.

```java
public class Box<T> {
    private T t;
    
    public T getT() {
        return t;
    }
    
    public void setT(T t) {
        this.t = t;
    }
}

public interface A<T> {
    public void method(T t);
}

/*
<T>λ€ μ•„μ§ νƒ€μ…μ΄ κ²°μ •μ΄ μ• λμ—μμ„ μλ―Έ
μ„¤κ³„λ‹¨κ³„μ—μ„ <T>λ¥Ό μ΄μ©ν•κ³  κ°λ° μ‹ κµ¬μ²΄μ  νƒ€μ…μ„ κ²°μ •ν•λ‹¤.
*/
```

## μ λ„¤λ¦­μ μ‚¬μ© μ - μ λ„¤λ¦­ νƒ€μ…μ„ μ‚¬μ©ν• κ²½μ°

- ν΄λμ¤λ¥Ό μ„ μ–Έν•  λ• νƒ€μ… νλΌλ―Έν„°λ¥Ό κΈ°μ ν•κ³ , μ»΄νμΌ μ‹ νƒ€μ… νλΌλ―Έν„°κ°€ κµ¬μ²΄μ μΈ ν΄λμ¤λ΅ λ³€κ²½λλ‹¤.
- κ°λ° μ‹, κµ¬μ²΄μ μΈ νƒ€μ…μ„ κΈ°μ ν•λ©΄ **μ»΄νμΌλ¬κ°€ μ„¤κ³„ λ‹¨κ³„μ— μλ” μ λ„¤λ¦­ νƒ€μ… Tλ¥Ό κµ¬μ²΄μ  ν΄λμ¤ νƒ€μ…μΈ String, Integer, Double, μ‚¬μ©μ μ •μ ν΄λμ¤ λ“±μΌλ΅ λ€μ²΄**μ‹ν‚¨λ‹¤. (νƒ€μ…λ³€ν™ μ—†μ)

```java
// μ„¤κ³„
public class Person<T> {
    private T t;
    
    public T getT() {
        return t;
    }
    
    public void setT(T t) {
        this.t = t;
    }
}
```

```java
// κ°λ°λ‹¨
Person<String> person = new Person<String>();
person.setT("hello");
String str = person.getT();

Person<Integer> person2 = new Person<Integer>();
person2.setT100);
Integer value = person2.getT();

Person<Double> person3 = new Person<Double>();
person3.setT(100.17);
Double value1 = person3.getT();
```

## λ©€ν‹° νƒ€μ… νλΌλ―Έν„°

### λ©€ν‹° νƒ€μ… νλΌλ―Έν„°

- **μ λ„¤λ¦­μ€ 2κ° μ΄μƒμ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•΄μ„ μ„ μ–Έν•  μ μμΌλ©°, κ° νƒ€μ… νλΌλ―Έν„°λ” μ½¤λ§(,)λ΅ κµ¬λ¶„ν•λ‹¤.**

```java
/*
T, Mμ²λΌ μλ―Έ μλ” μ•νλ²³μ΄ μ¤λ” κ²ƒμ΄ κ¶μ¥ μ‚¬ν•­μ΄μ§€λ§.
ν”„λ΅κ·Έλλ¨Έ λ§μλ€λ΅ κ²°μ •ν•  μλ„ μλ‹¤.
*/
public class Student<T, M> {
    private T t;
    private M m;
    
    public T getT() { return this.t; }
    public void setT(T t) { this.t = t; }
    
    public M getM() { return this.m; }
    public void setM(M m) { this.m = m; }
}
```

```java
Student<Integer, String> s = new Student<>();
```

- μ λ„¤λ¦­ νƒ€μ…μ€ μΈμ¤ν„΄μ¤κ°€ μƒμ„±λ  λ• κ²°μ •λκΈ° λ•λ¬Έμ— static λ©¤λ²„, λ°°μ—΄, instanceof μ—°μ‚°μμ—λ” μ“Έ μ μ—†λ‹¤.

## μ λ„¤λ¦­ λ©”μ„λ“

- λ§¤κ°λ³€μ νƒ€μ…κ³Ό λ¦¬ν„΄ νƒ€μ…μΌλ΅ νƒ€μ… νλΌλ―Έν„°λ¥Ό κ°–λ” λ©”μ„λ“

```java
// λ¦¬ν„΄ νƒ€μ…: Student<T>, λ§¤κ°λ³€μ νƒ€μ…: Tνƒ€μ…
public <T> Student<T> changing(T t)

public static<T> Student<T> changing(T t)
```

- **μ λ„¤λ¦­ λ©”μ„λ“λ” λ¦¬ν„΄ νƒ€μ… μ•μ— κΊΎμ‡  κΈ°νΈλ¥Ό μ¶”κ°€ν•κ³ , νƒ€μ… νλΌλ―Έν„°λ¥Ό κΈ°μ ν•λ©°, νƒ€μ… νλΌλ―Έν„°λ¥Ό λ¦¬ν„΄ νƒ€μ…κ³Ό λ§¤κ°λ³€μμ— μ‚¬μ©ν•λ‹¤.**
- μ λ„¤λ¦­ λ©”μ„λ“λ¥Ό νΈμ¶ν•λ” λ‘ κ°€μ§€ λ°©λ²•

```java
/*
λ…μ‹μ μΌλ΅ κµ¬μ²΄μ  νƒ€μ… μ§€μ •
λ¦¬ν„΄ νƒ€μ… λ³€μ = <κµ¬μ²΄μ νƒ€μ…> λ©”μ„λ“λ…(λ§¤κ°κ°’);
*/
Box<Integer> box = <Integer> boxing(100); // νƒ€μ… νλΌλ―Έν„°λ¥Ό λ…μ‹μ μΌλ΅ Integerλ΅ μ§€μ •

/*
μ»΄νμΌλ¬κ°€ λ§¤κ°κ°’μ„ λ³΄κ³  κµ¬μ²΄μ  νƒ€μ…μ„ μ¶”μ •
λ¦¬ν„΄ νƒ€μ… λ³€μ = λ©”μ„λ“λ…(λ§¤κ°κ°’);
*/
Box<Integer> box = boxing(100); // νƒ€μ… νλΌλ―Έν„°λ¥Ό Integerλ΅ μ¶”μ •
```

## νƒ€μ… νλΌλ―Έν„°μ μ ν•

- λ©”μ„λ“μ νƒ€μ… νλΌλ―Έν„°λ¥Ό κµ¬μ²΄μ μΌλ΅ μ ν•ν•κ³ μ ν•  λ• μ‚¬μ©ν•λ‹¤.
- μƒμ†μ΄λ‚ κµ¬ν„ κ΄€κ³„λ¥Ό μ΄μ©ν•μ—¬ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ ν•ν•  μ μλ‹¤.

> π’΅ μµμƒμν• : μµμ¤ν…μ¦ - μƒμ„ νƒ€μ… μ ν• - μνΌ - ν•μ„ νƒ€μ… μ ν•


- `public static <T extends Number> Student<T> changing(T t)`
    - Numberκ°€ μµκ³  μƒμ„ ν΄λμ¤κ°€ λμ–΄, Numberμ΄κ±°λ‚ Numberλ¥Ό μƒμ† λ°›λ” ν΄λμ¤λ“¤λ§ T νƒ€μ…μΌλ΅ μ¬ μ μλ‹¤.
- `public static <T super Number> Student<T> changing(T t)`
    - Numberμ ν•μ„ νƒ€μ…μ„ μ ν•ν•μ—¬ Numberκ°€ μµκ³  μμ† ν΄λμ¤κ°€ λλ‹¤.
- μƒμ„ νƒ€μ…μ€ ν΄λμ¤ λΏλ§ μ•„λ‹λΌ μΈν„°νμ΄μ¤λ„ κ°€λ¥ν•μ§€λ§, μΈν„°νμ΄μ¤λΌκ³  ν•μ—¬ implemetsλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  λ™μΌν•κ² extendsλ¥Ό μ‚¬μ©ν•λ‹¤.
- **μ„μ™€ κ°™μ΄ λ©”μ„λ“λ¥Ό μ„ μ–Έν–λ‹¤λ©΄, λ©”μ„λ“μ λ§¤κ°κ°’μΌλ΅ μƒμ„ νƒ€μ…μ΄κ±°λ‚ ν•μ„(μμ†ν΄λμ¤) λλ” κµ¬ν„ ν΄λμ¤λ§ μ§€μ • κ°€λ¥ν•λ‹¤.**

```java
public <T extends Number> int compare(T t1, T t2) {
    double v1 = t1.doubleValue();
    double v2 = t2.doubleValue();
    /*
    Number ν΄λμ¤μ doubleValue() μ¶”μƒ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ”©ν•
    T νƒ€μ…μ doubleValue()κ°€ νΈμ¶λλ‹¤.
    */
    
    return Double.compare(v1, v2);
}
/*
λ©”μ„λ“μ μ¤‘κ΄„νΈ{} μ•μ—μ„ νƒ€μ… νλΌλ―Έν„° λ³€μλ΅ μ‚¬μ© κ°€λ¥ν• κ²ƒμ€
μƒμ„νƒ€μ…μ λ©¤λ²„(λ©¤λ²„λ³€μ, λ©¤λ²„λ©”μ„λ“)λ΅ μ ν•λλ‹¤.
ν•μ„ νƒ€μ…μ—λ§ μλ” ν•„λ“(λ©¤λ²„λ³€μ)μ™€ λ©”μ„λ“λ” μ‚¬μ©ν•  μ μ—†λ‹¤.
*/
```

## μ™€μΌλ“ μΉ΄λ“ νƒ€μ…

- **μ΄λ―Έ μ„ μ–Έλμ–΄ μλ” μ λ„¤λ¦­ νƒ€μ…μ„ λ§¤κ°λ³€μλ‚ λ¦¬ν„΄ νƒ€μ…μΌλ΅ μ‚¬μ©ν•  λ•**, νƒ€μ… νλΌλ―Έν„°λ¥Ό μ ν•ν•  λ©μ μΌλ΅ μ‚¬μ©ν•λ‹¤.
- [λΉ„κµ] <T extends μƒμ„ λλ” μΈν„°νμ΄μ¤> λ” **μ λ„¤λ¦­ νƒ€μ…κ³Ό λ©”μ„λ“λ¥Ό μ„ μ–Έν•  λ• μ ν•ν•λ‹¤.**

```java
public static void registerCourse(Course<?> course) {}
public static void registerCourse(Course<? extends Student>course) {}
public static void registerCourse(Course<? super Student> course) {}
```

### **μ™€μΌλ“ μΉ΄λ“ νƒ€μ…μ μ„Έκ°€μ§€ ν•νƒ**

- **μ λ„¤λ¦­νƒ€μ…<?>**
    - Unbounded Wildcards (μ ν•μ—†μ)
    - νƒ€μ… νλΌλ―Έν„°λ¥Ό λ€μΉν•λ” κµ¬μ²΄μ μΈ νƒ€μ…μΌλ΅ λ¨λ“  ν΄λμ¤λ‚ μΈν„°νμ΄μ¤ νƒ€μ…μ΄ μ¬ μ μλ‹¤.
- **μ λ„¤λ¦­νƒ€μ…<? extends μƒμ„νƒ€μ…>**
    - Upper Bounded Wildcards (μƒμ„ ν΄λμ¤ μ ν•)
    - νƒ€μ… νλΌλ―Έν„°λ¥Ό λ€μΉν•λ” κµ¬μ²΄μ μΈ νƒ€μ…μΌλ΅ μƒμ„ νƒ€μ…μ΄λ‚ ν•μ„ νƒ€μ…λ§ μ¬ μ μλ‹¤.
- **μ λ„¤λ¦­νƒ€μ…<? super ν•μ„νƒ€μ…>**
    - Lower Bounded Wildcards (ν•μ„ ν΄λμ¤ μ ν•)
    - νƒ€μ… νλΌλ―Έν„°λ¥Ό λ€μΉν•λ” κµ¬μ²΄μ μΈ νƒ€μ…μΌλ΅ ν•μ„ νƒ€μ…μ΄λ‚ μƒμ„ νƒ€μ…μ΄ μ¬ μ μλ‹¤.


## μ λ„¤λ¦­ νƒ€μ…μ μƒμ†κ³Ό κµ¬ν„

- μ λ„¤λ¦­ νƒ€μ…μ„ μ΅°μƒ ν΄λμ¤λ΅ μ‚¬μ©ν•  κ²½μ°μ—λ”, μμ† ν΄λμ¤μ—λ„ λ°λ“μ‹ νƒ€μ… νλΌλ―Έν„°λ¥Ό κΈ°μ ν•΄μ•Ό ν•λ‹¤.
- μ¦‰, **μ΅°μƒμ΄ μ λ„¤λ¦­μ΄λ©΄ μμ†λ„ μ λ„¤λ¦­μ΄ λλ‹¤**λ” κ²ƒ!

    ```java
    class Student<T, M> extends Person<T, M> {}
    ```

- λν• **μ–Όλ§λ“ μ§€ μ¶”κ°€μ μΈ νƒ€μ… νλΌλ―Έν„°λ¥Ό κ°€μ§ μ μλ‹¤.**

    ```java
    class Student<T, M, C> extends Person<T, M> {}
    ```

- **μ λ„¤λ¦­ νƒ€μ…μ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  κ²½μ°μ—λ„, κµ¬ν„ ν΄λμ¤μ— νƒ€μ… νλΌλ―Έν„°λ¥Ό λ°λ“μ‹ κΈ°μ ν•΄μ•Ό ν•λ‹¤. (μΈν„°νμ΄μ¤λ„ μΌμΆ…μ μ΅°μƒμ΄λ‹¤.)**

    ```java
    class Student<T> implements Comparable<T>
    ```